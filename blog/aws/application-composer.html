<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11478199739"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'AW-11478199739');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AWS Blog Wolfgang Unger | AWS Application Composer</title>
    <meta name="description" content="AWS Blog Wolfgang Unger & SCC Brasil">
    <meta name="keywords"
        content="SCC Brasil, Software, Cloud Consulting, AWS, Cloud, Migration, CDK, Lambda, CodePipeline, CodeBuild, Generative AI, AI, Bedrock, S3, CodeDeploy, Jenkins, SSM, Fargate, ECS, EKS, Devops, Shoring, Security, Software Development, Blumenau, Santa Catarina, Brasil, Brazil, Cloud Training, Consulting, Engineering,  Wolfgang Unger, Nuvem, Desenvolvimento, Consultoria, Migração, Operações, Segurança, os cloud gurus, #sccbrasil, #oscloudgurus, ">
    <meta name="author" content="AWS Blog Wolfgang Unger">
    <meta name="og:title" property="og:title" content="AWS Blog Wolfgang Unger & SCC Brasil">
    <meta property="og:image" content="https://www.sccbrasil.com/blog/aws/img/5errors.avif" />
    <meta property="og:image:type" content="image/jpeg" />

    <!-- Favicons
            ================================================== -->
    <link rel="shortcut icon" href="../../img/SCC.ico" type="image/x-icon" />
    <link rel="icon" href="../../img/SCC.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">

    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="../../css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../fonts/font-awesome/css/font-awesome.css">

    <!-- Stylesheet
            ================================================== 
        <link rel="stylesheet" type="text/css"  href="css/styles_menu.css">        
        
        -->
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <link rel="stylesheet" type="text/css" href="../../css/prettyPhoto.css">
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,900,300' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@900&display=swap" rel="stylesheet"
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200;300;400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <script type="text/javascript" src="js/modernizr.custom.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script src="script.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
              <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
              <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
            <![endif]-->
</head>

<body>
    <!-- Navigation
            ==========================================-->
    <nav id="menu" class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span> <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand-scc" href="../../index.html">SCC</a>
            </div>
        </div>
    </nav>


    <!-- Header -->
    <header class="text-center" name="home">
        <div class="intro-text">
            <!--<h1>We are <span class="color">Optics</span></h1>
                
                <h1>SCC</h1>
                -->
            <p class="paragraph1">SCC</p>
            <p class="paragraph1b">Brasil</p>
            <p class="paragraph1c">os cloud gurus </p>
            <p class="paragraph1d">Software Cloud Consulting</p>
            <p class="paragraph1e">Your software development, cloud, consulting & shoring company</p>
            <div class="clearfix"></div>
    </header>



    <div id="about-section">
        <div class="container">
            <div class="section-title">
                <h2>AWS Application Composer - How to get started</h2>
                <hr>
            </div>
            <div class="space"></div>
            <div class="row">
                <div class="col-md-12">

                    <img class="blog-image" src="img/ac-icon.webp" alt="bedrock" loading="lazy" />
                    <p></p>
                    <h4>By Wolfgang Unger</h4><br>
                    <br>
                    <h4>Introduction</h4><br>
                    <p> How to get started with AWS Application Composer?<br>

                        AWS Application Composer was announced quite strong on the last Re-Invent, so time
                        to have a closer look on the
                        new service.<br>
                        This is a short tutorial on how to use AWS Application Composer and also a feedback on the status of the service.<br>
                        See also this video in my youtube channel :
                        <a href="https://youtu.be/_VciietppbY" class="page-scroll" target="_blank">
                            Getting started with AWS Application Composer</a>

                        <br><br>
                        I have to say first, I am a little bit surprised it was announced so strong as new Service, since AWS actually got 
                        a similar service for many years.<br>
                        Many might not know it, but in CloudFormation you find the 'Designer' which offers a similar functionality and this for many years.<br>
                        If you have never used it, this is what it looks like, you find it under CloudFormation.<br>
                        <img class="blog-image" src="img/ac-cfn-designer.jpg" alt="ac-cfn"
                        loading="lazy" /><br>
                        <br>
                        You can drag and drop your resources there also, a CloudFormation template will be generated, you can chose between Json and Yaml Code and <br>
                        you can also paste your existing IaC there and let it generate a architecture diagram for you.<br>
                        It also serves great as Json vs Yaml (or vice versa )Converter.<br>
                        <br>
                    <h4>Get started</h4><br>
                    When you open the AWS Application Composer Console you can open a Demo - which is good idea to get started or Create a new Project .<br>
                    The Demo looks like this: <br>
                    <img class="blog-image" src="img/ac1.jpg" alt="ac1"
                        loading="lazy" /><br>
                        <br>
                     You can see the Canvas where you can drag and drop your resources.<br>
                     You can switch to see CloudFormation View and will see this screen:<br>
                     <img class="blog-image" src="img/ac2.jpg" alt="ac2"
                     loading="lazy" /><br>
                     <br>
                     As you might have seen on the Overview Page, you can download a Visual Studio Plugin (among others) and work with Application Composer 
                     in your local IDE.<br>
                     In Visual Studio it looks even a little bit better :<br>
                     <img class="blog-image" src="img/ac3.jpg" alt="ac3"
                     loading="lazy" /><br>  
                     <br>
                     To work with Application Composer you not only need the Extension, but you also have to open your project folder from 
                     your local drive in Visual Studio. Otherwise you won't be able the Extension/Plugin. <br>
                            <br>
                            <h4>Some first tests for drag and drop</h4><br>
                            On the left side, you can choice from 'Enhanced Components' and 'Standard IaC Resources'.<br>
                            So far there are 14 Enhanced Components, mostly Serveless resources. <br>
                            We will create a Serveless application in a second, let's have first a look on the Standard Resources.<br>
                            What about, you have to create a VPC, this is quite a usual use-case, first thing before creating <br>
                            Databases or Fargate-Services or EC2's will be a VPC.<br>
                            So I drop a VPC to the canvas. What I get as IaC is :<br>
                            <i>
                            Resources:<br>
                            VPC:<br>
                            &ensp;     Type: AWS::EC2::VPC<br>
                            &ensp;    Properties: {}<br>
                            </i>
                            <br>
                            So really just a skeleton of the CloudFormation Code for a VPC.<br>
                            A real VPC with Subnets, IGWs, NWGs, Routes etc  and full functionality  might have 500 lines of Yaml Code. <br>
                            To create this with the Canvas you have to add all these resources like Subnets also and connect them with each other. <br>
                            A lot of work... You will be much faster if you use your existing VPC stack ( which you have created on a former project) and <br>
                            adapt a little bit for your current project. <br>
                            Same is valid for a lot of Services, for example a Fargate Service will need a ECR-Repo, a Cluster, a Task Definition with Env Variables, a Service,
                            a Target Group for the Loadbalancer etc <br>
                            To create this on the Canvas you will not be faster as re-using and adapting an existing CFN Template.<br>
                            I am missing here on thing:<br>
                            In CDK for example you have L1, L2 and L3 constructs.<br>
                            A L1 constructs represents one resource like a VPC or one CloudFormation Resource (CDK will generate a CloudFormation Json in the Sync Step) <br>
                            But there a L2 and L3 constructs for higher level abstractions of resources. <br>
                            L3 constructs offer already a composition of components and with these resources it is quite easy to create for example a Fargate Service. <br>
                            Would be great to choose from this type of resources here also.<br>
                            So a real VPC, a composition of Subnets, IGWs, NGWs, Routes etc or a ECS Patterns like a Loadbalanced Fargate Service. <br>
                            With just the basic IaC resources you will not be able to work really fast and productive in Application Composer. <br>

                            <br>
                     <h4>Fist project - a Serveless Application</h4><br>
                     Create a new project folder on your local disk and insert a new and empty template.yaml<br>
                     In the WebConsole you can press 'New Project' and then open this project folder in the menu on the top, right side .<br>
                     <br>
                     Now we can drag and drop our fist resources. <br>
                     <b>Api Gateway</b><br>
                     We start with a API Gateway. <br>
                     On the Canvas you can select a resource and open its properties,<br> the details will appear <br>
                     on the right side (for example the API Gateway): <br>
                     <img class="blog-image" src="img/ac4.jpg" alt="ac4"
                     loading="lazy" /><br>  
                     <br>
                     We can add our methods there, for example :<br>
                     GET /items<br>
                     GET /items/{id}<br>
                     PUT /items/{id}<br>
                     and more like DELETE, but for now should should work, we can test, if the basic functionality is working. <br>
                     <br>
                     <b>Lambdas</b><br>
                     Now we can drag and drop our Lambda Functions, the properties look like:<br>
       
                    <img class="blog-image" src="img/ac6.jpg" alt="ac6"
                    loading="lazy" /><br>  
                    <br>
                    You should adapt your Runtime and the source Folder and of course the Logical ID.<br>
                    I am using Python 3.11 for this example.<br>
                    Now you can connect the API Gateway methods which the Lambda Functions on the Canvas. <br>
                    This works really nice and speeds up the coding process indeed. <br>
                    <br>
                    <b>DynamoDB Table</b><br>
                    Next we add a Dynamo Table to the Canvas, which will be our Database for the items. <br>
                    The Dynamo Table Properties:<br>
                    <img class="blog-image" src="img/ac5.jpg" alt="ac5"
                    loading="lazy" /><br>  
                    <br>
                    As you can see, there is a Logical ID and Partion Key. You can also define a sort key, I won't, to keep the example simple.<br>
                    But a note on the logical ID:<br>
                    If we just define the name of the Dynamo Table in this ID and sync/deploy our to our target account, <br>
                    the SAML CLI will create a table with a name like this:  StackName-Items-RandomLetters. <br>
                    This will cause us trouble, since we want to access a table named 'Items'. <br>
                    The properties of the Canvas are not designed well on this.<br>
                    You have to switch to the CloudFormation Template View and add in the DynamoDB properties:<br>
                    <i>TableName: Items </i><br>
                    I hope, they are going to fix this issue soon. <br><br>
                    Now you should also connect the Lambda Functions with the DynamoDB in the Canvas. <br>
                    So by now your API methods should be connected with each Lambda and the Lambdas must be connected with the DynamoDB.<br>
                    <br>


                    <h4>Project Structure</h4><br>
                    Lets have a look in our project folder, what happened by now <br>
                    <img class="blog-image" src="img/ac7.jpg" alt="ac7"
                    loading="lazy" /><br>  
                    So besides the template.yaml, there is also a source folder for our lambda code and three subfolders.<br>
                    We can now adapt the Python code to implement a basic functionality.<br>
                    To list all items for example:<br>
                    <i>
                    import json<br>
                    import boto3<br>
                    dynamodb = boto3.resource('dynamodb')<br>
                    def handler(event, context):<br>
                    &ensp;    # Log the event argument for debugging and for use in local development.<br>
                    &ensp;    print(json.dumps(event))<br>
                    &ensp;    return read_all_items("Items")<br>
                    <br>
                    
                    # read all items from a dynamodb table  <br>
                    def read_all_items(table_name):<br>
                    &ensp; table = dynamodb.Table(table_name)<br>
                    &ensp;response = table.scan()<br>
                    &ensp; return response['Items']<br>
                    </i><br>
                    Please implement also readItem and updateItem, CodeWhisperer can help you on the implementation. <br>
                    <br>
                    <h4>Deployment</h4><br>
                    Now we can deploy our little serverless application and test, if it works.<br>
                    To do so, you have to press the Button 'Sync'<br>
                    You have to select a region, define the CloudFormation Template Name and also define a S3 Bucket. <br>
                    You will see on the Console/Terminal there's something going on:<br>
                    <img class="blog-image" src="img/ac9.jpg" alt="ac9"
                    loading="lazy" /><br>  
                    <br>
                    Once done, you will find a API Gateway, the 3 Lambdas and a Dynamo Table. This time also with the correct Table Name.<br>
                    Time to test our application. <br><br>
                    <h4>Test</h4><br>     
                    You can test your Lambdas directly with a Test Event. <br>
                    The getAllItems Functions don't expect parameters, so you don't even have to adapt the Test Event.<br>
                    Before you test the method, you should create in Dynamo a test entry, otherwise you will just recieve an empty array as result.<br>
                    If you did everything correct, your Lambda will now return your test item from Dynamo.<br>
                    So looks like it works quite well.<br><br>
                    Now, we can also test our API Gateway.<br>
                    Before we can test our Lambdas from API Gateway, we have to adapt the response body in the Lambda Code.<br>
                    The response for API Gateway should look like this :<br>
                    <i>
                    def handler(event, context):<br>
                    # Log the event argument for debugging and for use in local development.<br>
                    print(json.dumps(event))<br>
                    items = read_all_items("Items")<br>
                    response = {<br>
                        &ensp;    "statusCode": 200,  <br>
                        &ensp;   "body": json.dumps(items),<br>
                        &ensp;  "headers": {<br>
                            &ensp; &ensp; "Content-Type": "application/json" <br>
                            &ensp; }<br>
                    }<br>
                    return response<br>          
                </i>
                <br>
                Switch to API Gateway and to the method <br>
                GET /items and then 'Test' <br>
                You should see the following:<br>
                <img class="blog-image" src="img/ac12.jpg" alt="ac12"
                loading="lazy" /><br>  
                <br>
                Our serverless application works like a charme, the communication from API Gateway to Lambda and to DynamoDB is correct and 
                it was really kind of easy, setting the whole thing up.<br>
                But of course this was just a simple Hello World example.<br>
                For more advanced architectures, you will have more work .<br>

                <br>
                    <h4>Conclusion</h4><br>
                    The Drag and Drop functionality is nothing really new. CloudFormation Designer offers this already for years.<br>
                    The integration with Visual Studio is quite nice, but the Canvas still got some issues on the properties, like <br>
                    for example the Name of a Dynamo Table. <br>
                    Also Drag and Drop and the Creation of a Composition of Resources, like a VPC, is still not really very productive or faster <br>
                    than coding CloudFormation. <br>
                    Serveless Applications are supported well, also the resources therefore inside the 'Enhanced Components', <br>
                    but still some work to do on the other resources for full support of the most important properties in the Canvas . <br>

            
                   <br>


                </div>


                <br>
            </div>
        </div>
        <br>
        <center>
            <li><a href="blog.html" class="page-scroll">Back to Blog Overview</a></li>
        </center>
    </div>




    <div id="team-section">
        <div class="container">
            <div class="section-title">
                <h2>Autor</h2>
                <hr>
            </div>
            <div id="row">
                <div class="col-md-3 col-sm-6 team">
                    <div class="thumbnail"> <img src="../../img/team/wu1.jpg" alt="..." class="team-img">
                        <div class="caption">
                            <h3>Wolfgang Unger</h3>
                            <p>AWS Architect & Developer</p>
                            <p>6 x AWS Certified </p>
                            <p>1 x Azure Certified </p>
                            <p>A Cloud Guru Instructor</p>
                            <p>Certified Oracle JEE Architect</p>
                            <p>Certified Scrum Master</p>
                            <p>Certified Java Programmer</p>
                            <p>Passionate surfer & guitar player</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Contact Section -->

    <div id="social-section">
        <div class="container">
            <div class="social">
                <ul>
                    <li><a href="https://www.facebook.com/SCC-Brasil-111049103585600"><i class="fa fa-facebook"></i></a>
                    </li>
                    <li><a href="https://github.com/wolfgangunger"><i class="fa fa-github"></i></a></li>
                    <li><a href="https://www.instagram.com/sccbrasil.insta/"><i class="fa fa-instagram"></i></a></li>
                    <li><a href="https://www.linkedin.com/company/26187795/"><i class="fa fa-linkedin"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="footer">

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="../..js/jquery.1.11.1.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="../../js/bootstrap.js"></script>
    <script type="text/javascript" src="../../js/SmoothScroll.js"></script>
    <script type="text/javascript" src="../../js/jquery.prettyPhoto.js"></script>
    <script type="text/javascript" src="../../js/jquery.isotope.js"></script>
    <script type="text/javascript" src="../../js/jqBootstrapValidation.js"></script>
    <script type="text/javascript" src="../../js/contact_me.js"></script>

    <!-- Javascripts
            ================================================== -->
    <script type="text/javascript" src="../../js/main.js"></script>
</body>

</html>